# Postman æµ‹è¯•æŒ‡å— - æ·»åŠ ç§’æ€åˆ¸

## ğŸ“‹ æ¥å£ä¿¡æ¯

### æ·»åŠ ç§’æ€åˆ¸
- **æ¥å£åœ°å€**: `POST http://localhost:8081/voucher/seckill`
- **è¯·æ±‚å¤´**: `Content-Type: application/json`
- **è®¤è¯**: éœ€è¦ç™»å½•ï¼ˆéœ€è¦åœ¨Headerä¸­æ·»åŠ tokenï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤1ï¼šç™»å½•è·å–Token

**æ¥å£**: `POST http://localhost:8081/user/login`

**Body (raw JSON)**:
```json
{
    "phone": "13812345678",
    "code": "123456"
}
```

**å“åº”**:
```json
{
    "success": true,
    "data": "f47e1c5a-8d9b-4f2e-a3c1-9b7e4f5d6c8a"
}
```

**å¤åˆ¶è¿™ä¸ªtoken**ï¼Œåœ¨åç»­è¯·æ±‚çš„Headerä¸­ä½¿ç”¨ã€‚

---

### æ­¥éª¤2ï¼šæ·»åŠ ç§’æ€åˆ¸

**æ¥å£**: `POST http://localhost:8081/voucher/seckill`

**Headers**:
```
Content-Type: application/json
authorization: f47e1c5a-8d9b-4f2e-a3c1-9b7e4f5d6c8a
```

---

## ğŸ“ Body Raw æ•°æ®ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šåŸºç¡€ç§’æ€åˆ¸ï¼ˆæ¨èç”¨äºæµ‹è¯•ï¼‰

```json
{
    "shopId": 1,
    "title": "100å…ƒä»£é‡‘åˆ¸",
    "subTitle": "å‘¨ä¸€è‡³å‘¨äº”å¯ç”¨",
    "rules": "å…¨åœºé€šç”¨\\næ— éœ€é¢„çº¦\\nå¯æ— é™å åŠ \\ä¸å…‘ç°ã€ä¸æ‰¾é›¶\\nä»…é™å ‚é£Ÿ",
    "payValue": 8000,
    "actualValue": 10000,
    "type": 1,
    "stock": 100,
    "beginTime": "2025-10-22T10:00:00",
    "endTime": "2025-10-22T23:59:59"
}
```

**å­—æ®µè¯´æ˜**:
- `shopId`: å•†é“ºIDï¼ˆ1è¡¨ç¤ºç¬¬ä¸€ä¸ªå•†é“ºï¼‰
- `title`: ä¼˜æƒ åˆ¸æ ‡é¢˜
- `subTitle`: å‰¯æ ‡é¢˜
- `rules`: ä½¿ç”¨è§„åˆ™
- `payValue`: æ”¯ä»˜é‡‘é¢ï¼ˆå•ä½ï¼šåˆ†ï¼Œ8000 = 80å…ƒï¼‰
- `actualValue`: æŠµæ‰£é‡‘é¢ï¼ˆå•ä½ï¼šåˆ†ï¼Œ10000 = 100å…ƒï¼‰
- `type`: ç±»å‹ï¼ˆ1=ç§’æ€åˆ¸ï¼‰
- `stock`: åº“å­˜ï¼ˆ100å¼ ï¼‰
- `beginTime`: å¼€å§‹æ—¶é—´ï¼ˆä»Šå¤©10ç‚¹å¼€å§‹ï¼‰
- `endTime`: ç»“æŸæ—¶é—´ï¼ˆä»Šå¤©23:59ç»“æŸï¼‰

---

### ç¤ºä¾‹2ï¼šç«‹å³å¯ç”¨çš„ç§’æ€åˆ¸ï¼ˆå½“å‰æ—¶é—´å¯ç§’æ€ï¼‰

```json
{
    "shopId": 1,
    "title": "50å…ƒä»£é‡‘åˆ¸",
    "subTitle": "é™æ—¶ç§’æ€",
    "rules": "å…¨åœºé€šç”¨",
    "payValue": 4000,
    "actualValue": 5000,
    "type": 1,
    "stock": 50,
    "beginTime": "2025-10-22T00:00:00",
    "endTime": "2025-10-23T23:59:59"
}
```

---

### ç¤ºä¾‹3ï¼šå¤§é¢ç§’æ€åˆ¸ï¼ˆæµ‹è¯•é«˜å¹¶å‘ï¼‰

```json
{
    "shopId": 1,
    "title": "200å…ƒä»£é‡‘åˆ¸",
    "subTitle": "ç§’æ€ä¸“äº«",
    "rules": "å…¨åœºé€šç”¨\\næ¯äººé™è´­1å¼ ",
    "payValue": 18000,
    "actualValue": 20000,
    "type": 1,
    "stock": 10,
    "beginTime": "2025-10-22T00:00:00",
    "endTime": "2025-10-23T23:59:59"
}
```

**è¯´æ˜**: åº“å­˜åªæœ‰10å¼ ï¼Œé€‚åˆæµ‹è¯•é«˜å¹¶å‘è¶…å–é—®é¢˜

---

### ç¤ºä¾‹4ï¼šæœªæ¥ç§’æ€åˆ¸ï¼ˆæµ‹è¯•ç§’æ€æœªå¼€å§‹ï¼‰

```json
{
    "shopId": 1,
    "title": "88å…ƒä»£é‡‘åˆ¸",
    "subTitle": "æ˜å¤©å¼€æŠ¢",
    "rules": "å…¨åœºé€šç”¨",
    "payValue": 6800,
    "actualValue": 8800,
    "type": 1,
    "stock": 200,
    "beginTime": "2025-10-23T10:00:00",
    "endTime": "2025-10-23T23:59:59"
}
```

**è¯´æ˜**: å¼€å§‹æ—¶é—´æ˜¯æ˜å¤©ï¼Œæµ‹è¯•"ç§’æ€å°šæœªå¼€å§‹"çš„åœºæ™¯

---

### ç¤ºä¾‹5ï¼šå·²ç»“æŸç§’æ€åˆ¸ï¼ˆæµ‹è¯•ç§’æ€å·²ç»“æŸï¼‰

```json
{
    "shopId": 1,
    "title": "30å…ƒä»£é‡‘åˆ¸",
    "subTitle": "å·²ç»“æŸ",
    "rules": "å…¨åœºé€šç”¨",
    "payValue": 2500,
    "actualValue": 3000,
    "type": 1,
    "stock": 100,
    "beginTime": "2025-10-21T10:00:00",
    "endTime": "2025-10-21T23:59:59"
}
```

**è¯´æ˜**: ç»“æŸæ—¶é—´æ˜¯æ˜¨å¤©ï¼Œæµ‹è¯•"ç§’æ€å·²ç»ç»“æŸ"çš„åœºæ™¯

---

## ğŸ¯ å®Œæ•´æµ‹è¯•æµç¨‹

### 1. æ·»åŠ ç§’æ€åˆ¸

**è¯·æ±‚**:
```
POST http://localhost:8081/voucher/seckill
Content-Type: application/json
authorization: {ä½ çš„token}

Body:
{
    "shopId": 1,
    "title": "100å…ƒä»£é‡‘åˆ¸",
    "subTitle": "é™æ—¶ç§’æ€",
    "rules": "å…¨åœºé€šç”¨",
    "payValue": 8000,
    "actualValue": 10000,
    "type": 1,
    "stock": 100,
    "beginTime": "2025-10-22T00:00:00",
    "endTime": "2025-10-23T23:59:59"
}
```

**é¢„æœŸå“åº”**:
```json
{
    "success": true,
    "data": 10
}
```

**dataå­—æ®µ**æ˜¯ç”Ÿæˆçš„ä¼˜æƒ åˆ¸IDï¼Œè®°ä½è¿™ä¸ªIDï¼

---

### 2. æŸ¥è¯¢ç§’æ€åˆ¸åˆ—è¡¨

**è¯·æ±‚**:
```
GET http://localhost:8081/voucher/list/1
```

**é¢„æœŸå“åº”**:
```json
{
    "success": true,
    "data": [
        {
            "id": 10,
            "shopId": 1,
            "title": "100å…ƒä»£é‡‘åˆ¸",
            "subTitle": "é™æ—¶ç§’æ€",
            "rules": "å…¨åœºé€šç”¨",
            "payValue": 8000,
            "actualValue": 10000,
            "type": 1,
            "status": null,
            "stock": 100,
            "beginTime": "2025-10-22T00:00:00",
            "endTime": "2025-10-23T23:59:59",
            "createTime": "2025-10-22T11:30:00",
            "updateTime": "2025-10-22T11:30:00"
        }
    ]
}
```

---

### 3. ç§’æ€ä¼˜æƒ åˆ¸

**è¯·æ±‚**:
```
POST http://localhost:8081/voucher-order/seckill/10
authorization: {ä½ çš„token}
```

**é¢„æœŸå“åº”**:
```json
{
    "success": true,
    "data": 1729573824512000001
}
```

**dataå­—æ®µ**æ˜¯ç”Ÿæˆçš„è®¢å•ID

---

### 4. å†æ¬¡ç§’æ€ï¼ˆæµ‹è¯•ä¸€äººä¸€å•ï¼‰

**è¯·æ±‚**: åŒä¸€ä¸ªç”¨æˆ·å†æ¬¡è¯·æ±‚ç§’æ€

**é¢„æœŸå“åº”**:
```json
{
    "success": false,
    "errorMsg": "æ¯äººé™è´­ä¸€å¼ ï¼"
}
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: æ—¶é—´æ ¼å¼é”™è¯¯

âŒ **é”™è¯¯æ ¼å¼**:
```json
"beginTime": "2025-10-22 10:00:00"
```

âœ… **æ­£ç¡®æ ¼å¼**:
```json
"beginTime": "2025-10-22T10:00:00"
```

**æ³¨æ„**: æ—¥æœŸå’Œæ—¶é—´ä¹‹é—´ç”¨ `T` è¿æ¥ï¼

---

### Q2: é‡‘é¢å•ä½

âŒ **é”™è¯¯**:
```json
"payValue": 80,
"actualValue": 100
```

âœ… **æ­£ç¡®**:
```json
"payValue": 8000,
"actualValue": 10000
```

**è¯´æ˜**: é‡‘é¢å•ä½æ˜¯**åˆ†**ï¼Œä¸æ˜¯å…ƒï¼

---

### Q3: æ²¡æœ‰ç™»å½•

**é”™è¯¯å“åº”**:
```json
{
    "success": false,
    "errorMsg": "ç”¨æˆ·æœªç™»å½•"
}
```

**è§£å†³**: å…ˆç™»å½•è·å–tokenï¼Œç„¶ååœ¨Headerä¸­æ·»åŠ  `authorization: {token}`

---

### Q4: shopIdä¸å­˜åœ¨

**é”™è¯¯**: æ•°æ®åº“ä¸­æ²¡æœ‰å¯¹åº”çš„å•†é“º

**è§£å†³**: 
```sql
-- æŸ¥è¯¢å•†é“ºID
SELECT id, name FROM tb_shop LIMIT 10;

-- ä½¿ç”¨æŸ¥è¯¢åˆ°çš„shopId
```

---

## ğŸ“Š æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨

### å¿«é€Ÿç”Ÿæˆå¤šä¸ªç§’æ€åˆ¸ï¼ˆä¸åŒé¢é¢ï¼‰

**20å…ƒåˆ¸**:
```json
{
    "shopId": 1,
    "title": "20å…ƒä»£é‡‘åˆ¸",
    "subTitle": "é™æ—¶ç§’æ€",
    "rules": "å…¨åœºé€šç”¨",
    "payValue": 1500,
    "actualValue": 2000,
    "type": 1,
    "stock": 200,
    "beginTime": "2025-10-22T00:00:00",
    "endTime": "2025-10-23T23:59:59"
}
```

**50å…ƒåˆ¸**:
```json
{
    "shopId": 1,
    "title": "50å…ƒä»£é‡‘åˆ¸",
    "subTitle": "é™æ—¶ç§’æ€",
    "rules": "å…¨åœºé€šç”¨",
    "payValue": 4000,
    "actualValue": 5000,
    "type": 1,
    "stock": 100,
    "beginTime": "2025-10-22T00:00:00",
    "endTime": "2025-10-23T23:59:59"
}
```

**100å…ƒåˆ¸**:
```json
{
    "shopId": 1,
    "title": "100å…ƒä»£é‡‘åˆ¸",
    "subTitle": "é™æ—¶ç§’æ€",
    "rules": "å…¨åœºé€šç”¨",
    "payValue": 8000,
    "actualValue": 10000,
    "type": 1,
    "stock": 50,
    "beginTime": "2025-10-22T00:00:00",
    "endTime": "2025-10-23T23:59:59"
}
```

---

## ğŸ“ æµ‹è¯•åœºæ™¯å»ºè®®

### åœºæ™¯1ï¼šåŸºç¡€åŠŸèƒ½æµ‹è¯•
1. æ·»åŠ ä¸€ä¸ªåº“å­˜100çš„ç§’æ€åˆ¸
2. ç§’æ€æˆåŠŸ
3. æŸ¥çœ‹åº“å­˜å˜ä¸º99

### åœºæ™¯2ï¼šä¸€äººä¸€å•æµ‹è¯•
1. ç”¨æˆ·Aç§’æ€æˆåŠŸ
2. ç”¨æˆ·Aå†æ¬¡ç§’æ€ â†’ å¤±è´¥ï¼ˆæ¯äººé™è´­ä¸€å¼ ï¼‰
3. ç”¨æˆ·Bç§’æ€ â†’ æˆåŠŸ

### åœºæ™¯3ï¼šåº“å­˜ä¸è¶³æµ‹è¯•
1. æ·»åŠ åº“å­˜=1çš„ç§’æ€åˆ¸
2. ç”¨æˆ·Aç§’æ€ â†’ æˆåŠŸ
3. ç”¨æˆ·Bç§’æ€ â†’ å¤±è´¥ï¼ˆåº“å­˜ä¸è¶³ï¼‰

### åœºæ™¯4ï¼šæ—¶é—´é™åˆ¶æµ‹è¯•
1. æ·»åŠ æœªæ¥å¼€å§‹çš„ç§’æ€åˆ¸
2. ç«‹å³ç§’æ€ â†’ å¤±è´¥ï¼ˆç§’æ€å°šæœªå¼€å§‹ï¼‰
3. æ·»åŠ å·²ç»“æŸçš„ç§’æ€åˆ¸
4. ç§’æ€ â†’ å¤±è´¥ï¼ˆç§’æ€å·²ç»ç»“æŸï¼‰

### åœºæ™¯5ï¼šé«˜å¹¶å‘æµ‹è¯•ï¼ˆJMeterï¼‰
1. æ·»åŠ åº“å­˜=10çš„ç§’æ€åˆ¸
2. JMeter 100å¹¶å‘è¯·æ±‚
3. éªŒè¯ï¼šåªæœ‰10ä¸ªæˆåŠŸï¼Œ90ä¸ªå¤±è´¥
4. éªŒè¯ï¼šåº“å­˜=0ï¼Œè®¢å•æ•°=10

---

## ğŸ’¡ å°æŠ€å·§

### 1. Postmanç¯å¢ƒå˜é‡

è®¾ç½®ç¯å¢ƒå˜é‡æ–¹ä¾¿å¤ç”¨ï¼š
```
baseUrl: http://localhost:8081
token: f47e1c5a-8d9b-4f2e-a3c1-9b7e4f5d6c8a
voucherId: 10
```

ä½¿ç”¨å˜é‡ï¼š
```
{{baseUrl}}/voucher/seckill
authorization: {{token}}
```

### 2. è‡ªåŠ¨è·å–å½“å‰æ—¶é—´

ä½¿ç”¨Postmançš„é¢„è¯·æ±‚è„šæœ¬ï¼š
```javascript
// å½“å‰æ—¶é—´
pm.environment.set("now", new Date().toISOString());

// 1å°æ—¶å
let oneHourLater = new Date();
oneHourLater.setHours(oneHourLater.getHours() + 1);
pm.environment.set("oneHourLater", oneHourLater.toISOString());
```

ç„¶ååœ¨Bodyä¸­ä½¿ç”¨ï¼š
```json
{
    "beginTime": "{{now}}",
    "endTime": "{{oneHourLater}}"
}
```

---

ç¥æµ‹è¯•é¡ºåˆ©ï¼ğŸ‰

